<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>21天护肤计划 - 智能肌肤管理</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'sakura': {
                            50: '#fef7f7',
                            100: '#fdeaea',
                            200: '#fbd5d5',
                            300: '#f7b2b2',
                            400: '#f18a8a',
                            500: '#e85d5d',
                            600: '#d63c3c',
                            700: '#b32d2d',
                            800: '#942929',
                            900: '#7c2727',
                        },
                        'primary': {
                            50: '#f0f9ff',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8'
                        }
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                        'slide-up': 'slideUp 0.5s ease-out',
                        'fade-in': 'fadeIn 0.6s ease-out'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        glow: {
                            '0%': { boxShadow: '0 0 20px rgba(59, 130, 246, 0.5)' },
                            '100%': { boxShadow: '0 0 30px rgba(59, 130, 246, 0.8)' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .glass-strong {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .day-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .day-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .day-card:hover::before {
            left: 100%;
        }
        
        .day-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        .completed {
            background: linear-gradient(135deg, #10b981, #059669);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
        }
        
        .current {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            animation: glow 2s ease-in-out infinite alternate;
            box-shadow: 0 10px 25px rgba(245, 158, 11, 0.4);
        }
        
        .upcoming {
            background: rgba(255, 255, 255, 0.08);
            border: 2px dashed rgba(255, 255, 255, 0.3);
        }
        
        .milestone {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            box-shadow: 0 10px 25px rgba(139, 92, 246, 0.4);
        }
        
        .metric-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }
        
        .progress-ring {
            transition: stroke-dashoffset 1s ease-in-out;
        }
        
        .tab-indicator {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            border-radius: 2px;
            transition: all 0.3s ease;
        }
        
        .floating-action {
            position: fixed;
            bottom: 100px;
            right: 20px;
            z-index: 50;
            animation: float 3s ease-in-out infinite;
        }
        
        .section-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            margin: 2rem 0;
        }
        
        .chart-container {
            position: relative;
            height: 220px;
        }
        
        .improvement-badge {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }
        
        .scroll-indicator {
            position: fixed;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 40;
        }
        
        .scroll-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            margin: 8px 0;
            transition: all 0.3s ease;
        }
        
        .scroll-dot.active {
            background: white;
            transform: scale(1.5);
        }
    </style>
</head>
<body>
    <!-- Status Bar -->


    <!-- Header -->
    <div class="glass-strong border-b border-white/20 sticky top-0 z-30">
        <div class="flex items-center justify-between p-4">
            <a href="home.html" class="text-white hover:text-gray-200 transition-colors">
                <i class="fas fa-arrow-left text-xl"></i>
            </a>
            <h1 class="text-white text-lg font-semibold">21天护肤计划</h1>
            <div class="flex space-x-3">
                <button class="text-white hover:text-gray-200 transition-colors" onclick="shareProgress()">
                    <i class="fas fa-share text-xl"></i>
                </button>
                <button class="text-white hover:text-gray-200 transition-colors" onclick="openSettings()">
                    <i class="fas fa-cog text-xl"></i>
                </button>
            </div>
        </div>
        
        <!-- Tab Navigation -->
        <div class="flex relative">
            <button class="tab-btn flex-1 py-3 text-white font-medium relative" data-tab="overview" onclick="switchTab('overview')">
                <i class="fas fa-chart-pie mr-2"></i>总览
            </button>
            <button class="tab-btn flex-1 py-3 text-white/60 font-medium relative" data-tab="calendar" onclick="switchTab('calendar')">
                <i class="fas fa-calendar-alt mr-2"></i>日历
            </button>
            <button class="tab-btn flex-1 py-3 text-white/60 font-medium relative" data-tab="analysis" onclick="switchTab('analysis')">
                <i class="fas fa-chart-line mr-2"></i>分析
            </button>
            <div class="tab-indicator" style="width: 33.33%; left: 0;"></div>
        </div>
    </div>

    <!-- Scroll Indicator -->
    <div class="scroll-indicator">
        <div class="scroll-dot active"></div>
        <div class="scroll-dot"></div>
        <div class="scroll-dot"></div>
        <div class="scroll-dot"></div>
    </div>

    <!-- Main Content -->
    <div class="p-4 pb-24">
        <!-- Overview Tab -->
        <div id="overview-tab" class="tab-content">
            <!-- Progress Overview -->
            <div class="glass-effect rounded-3xl p-6 mb-6 animate-slide-up">
                <div class="text-center text-white mb-6">
                    <h2 class="text-3xl font-bold mb-2">第 <span class="text-yellow-400">7</span> 天</h2>
                    <p class="text-white/80 text-lg">坚持护肤，见证蜕变</p>
                    <div class="inline-flex items-center bg-green-500/20 text-green-300 px-4 py-2 rounded-full text-sm mt-3">
                        <i class="fas fa-fire mr-2"></i>
                        连续打卡 7 天
                    </div>
                </div>
                
                <!-- Circular Progress -->
                <div class="relative w-40 h-40 mx-auto mb-6">
                    <svg class="w-40 h-40 transform -rotate-90" viewBox="0 0 160 160">
                        <circle cx="80" cy="80" r="70" stroke="rgba(255,255,255,0.2)" stroke-width="12" fill="none"/>
                        <circle cx="80" cy="80" r="70" stroke="url(#progressGradient)" stroke-width="12" fill="none" 
                                stroke-dasharray="440" stroke-dashoffset="294" stroke-linecap="round" class="progress-ring"/>
                        <defs>
                            <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#3b82f6"/>
                                <stop offset="100%" style="stop-color:#8b5cf6"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="text-center text-white">
                            <div class="text-4xl font-bold mb-1">33%</div>
                            <div class="text-sm opacity-80">完成进度</div>
                        </div>
                    </div>
                </div>
                
                <!-- Enhanced Stats -->
                <div class="grid grid-cols-3 gap-4 text-center text-white">
                    <div class="bg-white/10 rounded-2xl p-4">
                        <div class="text-2xl font-bold text-green-400">7</div>
                        <div class="text-sm opacity-80">已完成</div>
                        <div class="text-xs text-green-400 mt-1">+1 今日</div>
                    </div>
                    <div class="bg-white/10 rounded-2xl p-4">
                        <div class="text-2xl font-bold text-blue-400">14</div>
                        <div class="text-sm opacity-80">剩余天数</div>
                        <div class="text-xs text-blue-400 mt-1">66% 剩余</div>
                    </div>
                    <div class="bg-white/10 rounded-2xl p-4">
                        <div class="text-2xl font-bold text-yellow-400">100%</div>
                        <div class="text-sm opacity-80">坚持率</div>
                        <div class="text-xs text-yellow-400 mt-1">完美!</div>
                    </div>
                </div>
            </div>

            <!-- Achievements Enhanced -->
            <div class="glass-effect rounded-2xl p-5 mb-6">
                <h3 class="text-white font-semibold mb-4 flex items-center">
                    <i class="fas fa-trophy text-yellow-400 mr-2"></i>
                    成就徽章
                    <span class="ml-auto text-sm text-yellow-400">3/12</span>
                </h3>
                <div class="grid grid-cols-3 gap-4">
                    <div class="achievement-badge bg-gradient-to-br from-yellow-400 to-orange-500 p-4 rounded-xl text-white text-center relative overflow-hidden">
                        <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 translate-x-full animate-pulse"></div>
                        <i class="fas fa-fire text-2xl mb-2"></i>
                        <div class="text-xs font-medium">连续7天</div>
                        <div class="text-xs opacity-80">坚持不懈</div>
                    </div>
                    <div class="achievement-badge bg-gradient-to-br from-green-400 to-emerald-500 p-4 rounded-xl text-white text-center">
                        <i class="fas fa-star text-2xl mb-2"></i>
                        <div class="text-xs font-medium">肌肤改善</div>
                        <div class="text-xs opacity-80">效果显著</div>
                    </div>
                    <div class="achievement-badge bg-gradient-to-br from-purple-400 to-pink-500 p-4 rounded-xl text-white text-center">
                        <i class="fas fa-heart text-2xl mb-2"></i>
                        <div class="text-xs font-medium">自律达人</div>
                        <div class="text-xs opacity-80">习惯养成</div>
                    </div>
                </div>
                <div class="mt-4 text-center">
                    <button class="text-white/60 text-sm hover:text-white transition-colors">
                        查看全部成就 <i class="fas fa-chevron-right ml-1"></i>
                    </button>
                </div>
            </div>

            <!-- Today's Challenge Enhanced -->
            <div class="glass-effect rounded-2xl p-5 mb-6">
                <h3 class="text-white font-semibold mb-4 flex items-center">
                    <i class="fas fa-target text-red-400 mr-2"></i>
                    今日任务
                    <span class="ml-auto text-sm text-green-400">2/3 完成</span>
                </h3>
                <div class="space-y-3">
                    <div class="bg-white/10 rounded-xl p-4 border-l-4 border-green-500">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mr-3">
                                    <i class="fas fa-check text-white text-sm"></i>
                                </div>
                                <div>
                                    <span class="text-white font-medium">完成早晚护肤</span>
                                    <div class="text-white/60 text-sm">使用推荐产品组合</div>
                                </div>
                            </div>
                            <span class="text-green-400 text-sm font-medium">已完成</span>
                        </div>
                    </div>
                    
                    <div class="bg-white/10 rounded-xl p-4 border-l-4 border-green-500">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mr-3">
                                    <i class="fas fa-check text-white text-sm"></i>
                                </div>
                                <div>
                                    <span class="text-white font-medium">拍照记录肌肤状态</span>
                                    <div class="text-white/60 text-sm">AI智能分析</div>
                                </div>
                            </div>
                            <span class="text-green-400 text-sm font-medium">已完成</span>
                        </div>
                    </div>
                    
                    <div class="bg-white/10 rounded-xl p-4 border-l-4 border-yellow-500">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center mr-3">
                                    <i class="fas fa-clock text-white text-sm"></i>
                                </div>
                                <div>
                                    <span class="text-white font-medium">记录护肤心得</span>
                                    <div class="text-white/60 text-sm">分享今日感受</div>
                                </div>
                            </div>
                            <button class="bg-yellow-500 text-white px-3 py-1 rounded-lg text-sm font-medium hover:bg-yellow-600 transition-colors" onclick="openDayDetail(7)">
                                去完成
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Calendar Tab -->
        <div id="calendar-tab" class="tab-content hidden">
            <!-- Calendar Header -->
            <div class="glass-effect rounded-2xl p-5 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-white font-semibold flex items-center">
                        <i class="fas fa-calendar-alt text-blue-400 mr-2"></i>
                        21天打卡日历
                    </h3>
                    <div class="flex items-center space-x-2">
                        <div class="flex items-center text-xs text-white/60">
                            <div class="w-3 h-3 bg-green-500 rounded-full mr-1"></div>
                            已完成
                        </div>
                        <div class="flex items-center text-xs text-white/60">
                            <div class="w-3 h-3 bg-yellow-500 rounded-full mr-1"></div>
                            进行中
                        </div>
                        <div class="flex items-center text-xs text-white/60">
                            <div class="w-3 h-3 bg-white/30 rounded-full mr-1"></div>
                            未开始
                        </div>
                    </div>
                </div>
                
                <!-- Enhanced Calendar Grid -->
                <div class="grid grid-cols-7 gap-3">
                    <!-- Week 1 -->
                    <div class="day-card completed rounded-xl p-3 text-center text-white cursor-pointer" onclick="openDayDetail(1)">
                        <div class="text-sm font-semibold mb-1">第1天</div>
                        <i class="fas fa-check text-lg"></i>
                        <div class="text-xs mt-1 opacity-80">开始</div>
                    </div>
                    <div class="day-card completed rounded-xl p-3 text-center text-white cursor-pointer" onclick="openDayDetail(2)">
                        <div class="text-sm font-semibold mb-1">第2天</div>
                        <i class="fas fa-check text-lg"></i>
                        <div class="text-xs mt-1 opacity-80">坚持</div>
                    </div>
                    <div class="day-card completed rounded-xl p-3 text-center text-white cursor-pointer" onclick="openDayDetail(3)">
                        <div class="text-sm font-semibold mb-1">第3天</div>
                        <i class="fas fa-check text-lg"></i>
                        <div class="text-xs mt-1 opacity-80">习惯</div>
                    </div>
                    <div class="day-card completed rounded-xl p-3 text-center text-white cursor-pointer" onclick="openDayDetail(4)">
                        <div class="text-sm font-semibold mb-1">第4天</div>
                        <i class="fas fa-check text-lg"></i>
                        <div class="text-xs mt-1 opacity-80">坚持</div>
                    </div>
                    <div class="day-card completed rounded-xl p-3 text-center text-white cursor-pointer" onclick="openDayDetail(5)">
                        <div class="text-sm font-semibold mb-1">第5天</div>
                        <i class="fas fa-check text-lg"></i>
                        <div class="text-xs mt-1 opacity-80">改善</div>
                    </div>
                    <div class="day-card completed rounded-xl p-3 text-center text-white cursor-pointer" onclick="openDayDetail(6)">
                        <div class="text-sm font-semibold mb-1">第6天</div>
                        <i class="fas fa-check text-lg"></i>
                        <div class="text-xs mt-1 opacity-80">效果</div>
                    </div>
                    <div class="day-card milestone rounded-xl p-3 text-center text-white cursor-pointer" onclick="openDayDetail(7)">
                        <div class="text-sm font-semibold mb-1">第7天</div>
                        <i class="fas fa-crown text-lg"></i>
                        <div class="text-xs mt-1 opacity-80">里程碑</div>
                    </div>
                    
                    <!-- Week 2 -->
                    <div class="day-card current rounded-xl p-3 text-center text-white cursor-pointer" onclick="openDayDetail(8)">
                        <div class="text-sm font-semibold mb-1">第8天</div>
                        <i class="fas fa-play text-lg"></i>
                        <div class="text-xs mt-1 opacity-80">今日</div>
                    </div>
                    <div class="day-card upcoming rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第9天</div>
                        <i class="fas fa-lock text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">待解锁</div>
                    </div>
                    <div class="day-card upcoming rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第10天</div>
                        <i class="fas fa-lock text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">待解锁</div>
                    </div>
                    <div class="day-card upcoming rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第11天</div>
                        <i class="fas fa-lock text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">待解锁</div>
                    </div>
                    <div class="day-card upcoming rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第12天</div>
                        <i class="fas fa-lock text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">待解锁</div>
                    </div>
                    <div class="day-card upcoming rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第13天</div>
                        <i class="fas fa-lock text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">待解锁</div>
                    </div>
                    <div class="day-card milestone rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第14天</div>
                        <i class="fas fa-star text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">2周</div>
                    </div>
                    
                    <!-- Week 3 -->
                    <div class="day-card upcoming rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第15天</div>
                        <i class="fas fa-lock text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">待解锁</div>
                    </div>
                    <div class="day-card upcoming rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第16天</div>
                        <i class="fas fa-lock text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">待解锁</div>
                    </div>
                    <div class="day-card upcoming rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第17天</div>
                        <i class="fas fa-lock text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">待解锁</div>
                    </div>
                    <div class="day-card upcoming rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第18天</div>
                        <i class="fas fa-lock text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">待解锁</div>
                    </div>
                    <div class="day-card upcoming rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第19天</div>
                        <i class="fas fa-lock text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">待解锁</div>
                    </div>
                    <div class="day-card upcoming rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第20天</div>
                        <i class="fas fa-lock text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">待解锁</div>
                    </div>
                    <div class="day-card milestone rounded-xl p-3 text-center text-white/60">
                        <div class="text-sm font-semibold mb-1">第21天</div>
                        <i class="fas fa-trophy text-lg"></i>
                        <div class="text-xs mt-1 opacity-60">完成</div>
                    </div>
                </div>
            </div>

            <!-- Weekly Summary -->
            <div class="grid grid-cols-3 gap-4 mb-6">
                <div class="glass-effect rounded-2xl p-4 text-center">
                    <div class="w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-check-circle text-green-400 text-xl"></i>
                    </div>
                    <div class="text-white font-semibold">第1周</div>
                    <div class="text-white/60 text-sm">已完成</div>
                    <div class="text-green-400 text-xs mt-1">7/7天</div>
                </div>
                <div class="glass-effect rounded-2xl p-4 text-center">
                    <div class="w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-clock text-yellow-400 text-xl"></i>
                    </div>
                    <div class="text-white font-semibold">第2周</div>
                    <div class="text-white/60 text-sm">进行中</div>
                    <div class="text-yellow-400 text-xs mt-1">1/7天</div>
                </div>
                <div class="glass-effect rounded-2xl p-4 text-center">
                    <div class="w-12 h-12 bg-gray-500/20 rounded-full flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-lock text-gray-400 text-xl"></i>
                    </div>
                    <div class="text-white font-semibold">第3周</div>
                    <div class="text-white/60 text-sm">未开始</div>
                    <div class="text-gray-400 text-xs mt-1">0/7天</div>
                </div>
            </div>
        </div>

        <!-- Analysis Tab -->
        <div id="analysis-tab" class="tab-content hidden">
            <!-- Overall Score -->
            <div class="glass-effect rounded-3xl p-6 mb-6 text-center">
                <div class="relative w-36 h-36 mx-auto mb-4">
                    <svg class="w-36 h-36 transform -rotate-90" viewBox="0 0 144 144">
                        <circle cx="72" cy="72" r="60" stroke="rgba(255,255,255,0.2)" stroke-width="10" fill="none"/>
                        <circle cx="72" cy="72" r="60" stroke="url(#scoreGradient)" stroke-width="10" fill="none" 
                                stroke-dasharray="377" stroke-dashoffset="113" stroke-linecap="round" class="progress-ring"/>
                        <defs>
                            <linearGradient id="scoreGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#22c55e"/>
                                <stop offset="100%" style="stop-color:#16a34a"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="text-center text-white">
                            <div class="text-4xl font-bold mb-1">85</div>
                            <div class="text-sm opacity-80">综合评分</div>
                        </div>
                    </div>
                </div>
                <h2 class="text-white text-2xl font-bold mb-2">肌肤状态优秀</h2>
                <p class="text-white/80 mb-3">相比开始时提升了23分</p>
                <div class="improvement-badge inline-flex items-center bg-green-500/20 text-green-300 px-4 py-2 rounded-full text-sm">
                    <i class="fas fa-arrow-up mr-2"></i>
                    持续改善中
                </div>
            </div>

            <!-- Key Metrics Enhanced -->
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="metric-card glass-effect rounded-2xl p-4" onclick="showMetricDetail('hydration')">
                    <div class="flex items-center justify-between mb-3">
                        <div class="w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center">
                            <i class="fas fa-tint text-blue-400 text-xl"></i>
                        </div>
                        <span class="text-green-400 text-sm font-medium bg-green-500/20 px-2 py-1 rounded-full">+15%</span>
                    </div>
                    <h3 class="text-white font-semibold mb-2">水分含量</h3>
                    <div class="text-3xl font-bold text-white mb-3">78%</div>
                    <div class="w-full bg-white/20 rounded-full h-3 mb-2">
                        <div class="bg-gradient-to-r from-blue-400 to-blue-500 h-3 rounded-full transition-all duration-1000" style="width: 78%"></div>
                    </div>
                    <div class="text-white/60 text-xs">优秀水平</div>
                </div>

                <div class="metric-card glass-effect rounded-2xl p-4" onclick="showMetricDetail('brightness')">
                    <div class="flex items-center justify-between mb-3">
                        <div class="w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center">
                            <i class="fas fa-sun text-yellow-400 text-xl"></i>
                        </div>
                        <span class="text-green-400 text-sm font-medium bg-green-500/20 px-2 py-1 rounded-full">+12%</span>
                    </div>
                    <h3 class="text-white font-semibold mb-2">光泽度</h3>
                    <div class="text-3xl font-bold text-white mb-3">82%</div>
                    <div class="w-full bg-white/20 rounded-full h-3 mb-2">
                        <div class="bg-gradient-to-r from-yellow-400 to-yellow-500 h-3 rounded-full transition-all duration-1000" style="width: 82%"></div>
                    </div>
                    <div class="text-white/60 text-xs">非常好</div>
                </div>

                <div class="metric-card glass-effect rounded-2xl p-4" onclick="showMetricDetail('elasticity')">
                    <div class="flex items-center justify-between mb-3">
                        <div class="w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center">
                            <i class="fas fa-leaf text-purple-400 text-xl"></i>
                        </div>
                        <span class="text-green-400 text-sm font-medium bg-green-500/20 px-2 py-1 rounded-full">+20%</span>
                    </div>
                    <h3 class="text-white font-semibold mb-2">弹性</h3>
                    <div class="text-3xl font-bold text-white mb-3">75%</div>
                    <div class="w-full bg-white/20 rounded-full h-3 mb-2">
                        <div class="bg-gradient-to-r from-purple-400 to-purple-500 h-3 rounded-full transition-all duration-1000" style="width: 75%"></div>
                    </div>
                    <div class="text-white/60 text-xs">良好</div>
                </div>

                <div class="metric-card glass-effect rounded-2xl p-4" onclick="showMetricDetail('problems')">
                    <div class="flex items-center justify-between mb-3">
                        <div class="w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center">
                            <i class="fas fa-exclamation-triangle text-red-400 text-xl"></i>
                        </div>
                        <span class="text-green-400 text-sm font-medium bg-green-500/20 px-2 py-1 rounded-full">-35%</span>
                    </div>
                    <h3 class="text-white font-semibold mb-2">问题区域</h3>
                    <div class="text-3xl font-bold text-white mb-3">13%</div>
                    <div class="w-full bg-white/20 rounded-full h-3 mb-2">
                        <div class="bg-gradient-to-r from-red-400 to-red-500 h-3 rounded-full transition-all duration-1000" style="width: 13%"></div>
                    </div>
                    <div class="text-white/60 text-xs">大幅改善</div>
                </div>
            </div>

            <!-- Trend Chart Enhanced -->
            <div class="glass-effect rounded-2xl p-5 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-white font-semibold flex items-center">
                        <i class="fas fa-chart-line text-green-400 mr-2"></i>
                        7天趋势变化
                    </h3>
                    <div class="flex space-x-2">
                        <button class="text-white/60 text-sm hover:text-white transition-colors" onclick="changePeriod('7d')">
                            7天
                        </button>
                        <button class="text-white text-sm" onclick="changePeriod('14d')">
                            14天
                        </button>
                        <button class="text-white/60 text-sm hover:text-white transition-colors" onclick="changePeriod('21d')">
                            21天
                        </button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="trendChart"></canvas>
                </div>
            </div>

            <!-- Before/After Comparison Enhanced -->
            <div class="glass-effect rounded-2xl p-5 mb-6">
                <h3 class="text-white font-semibold mb-4 flex items-center">
                    <i class="fas fa-images text-purple-400 mr-2"></i>
                    对比照片
                </h3>
                <div class="grid grid-cols-2 gap-6">
                    <div class="text-center">
                        <div class="aspect-square bg-gradient-to-br from-gray-400 to-gray-600 rounded-2xl mb-3 flex items-center justify-center relative overflow-hidden">
                            <div class="text-white text-center z-10">
                                <i class="fas fa-user text-4xl mb-2"></i>
                                <div class="text-sm font-medium">第1天</div>
                            </div>
                            <div class="absolute inset-0 bg-black/20"></div>
                        </div>
                        <p class="text-white font-medium mb-1">开始时</p>
                        <p class="text-white/60 text-sm">基础状态</p>
                    </div>
                    <div class="text-center">
                        <div class="aspect-square bg-gradient-to-br from-pink-400 to-purple-600 rounded-2xl mb-3 flex items-center justify-center relative overflow-hidden">
                            <div class="text-white text-center z-10">
                                <i class="fas fa-user text-4xl mb-2"></i>
                                <div class="text-sm font-medium">第7天</div>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"></div>
                        </div>
                        <p class="text-white font-medium mb-1">现在</p>
                        <p class="text-white/60 text-sm">明显改善</p>
                    </div>
                </div>
                <div class="mt-6 text-center">
                    <div class="inline-flex items-center bg-green-500/20 text-green-300 px-6 py-3 rounded-full text-sm font-medium">
                        <i class="fas fa-sparkles mr-2"></i>
                        肌肤质感明显提升
                    </div>
                </div>
            </div>

            <!-- Detailed Analysis Enhanced -->
            <div class="glass-effect rounded-2xl p-5">
                <h3 class="text-white font-semibold mb-4 flex items-center">
                    <i class="fas fa-microscope text-blue-400 mr-2"></i>
                    详细分析报告
                </h3>
                
                <div class="space-y-4">
                    <!-- Hydration Analysis -->
                    <div class="bg-white/10 rounded-xl p-4 border-l-4 border-blue-400">
                        <div class="flex items-center justify-between mb-3">
                            <h4 class="text-white font-medium flex items-center">
                                <i class="fas fa-tint text-blue-400 mr-2"></i>
                                水分分析
                            </h4>
                            <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm font-medium">优秀</span>
                        </div>
                        <p class="text-white/80 text-sm mb-3">
                            肌肤水分含量从63%提升至78%，保湿效果显著。T区和U区水分分布更加均匀，肌肤屏障功能明显增强。
                        </p>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-green-400 text-sm">
                                <i class="fas fa-arrow-up mr-1"></i>
                                <span>相比第1天提升15%</span>
                            </div>
                            <button class="text-blue-400 text-sm hover:text-blue-300 transition-colors">
                                查看详情 <i class="fas fa-chevron-right ml-1"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Texture Analysis -->
                    <div class="bg-white/10 rounded-xl p-4 border-l-4 border-green-400">
                        <div class="flex items-center justify-between mb-3">
                            <h4 class="text-white font-medium flex items-center">
                                <i class="fas fa-leaf text-green-400 mr-2"></i>
                                质感分析
                            </h4>
                            <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm font-medium">良好</span>
                        </div>
                        <p class="text-white/80 text-sm mb-3">
                            肌肤弹性和紧致度有明显改善，细纹减少，整体质感更加光滑细腻。胶原蛋白合成活跃。
                        </p>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-green-400 text-sm">
                                <i class="fas fa-arrow-up mr-1"></i>
                                <span>弹性提升20%</span>
                            </div>
                            <button class="text-green-400 text-sm hover:text-green-300 transition-colors">
                                查看详情 <i class="fas fa-chevron-right ml-1"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Problem Areas -->
                    <div class="bg-white/10 rounded-xl p-4 border-l-4 border-red-400">
                        <div class="flex items-center justify-between mb-3">
                            <h4 class="text-white font-medium flex items-center">
                                <i class="fas fa-target text-red-400 mr-2"></i>
                                问题改善
                            </h4>
                            <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm font-medium">显著</span>
                        </div>
                        <p class="text-white/80 text-sm mb-3">
                            痘痘和黑头明显减少，毛孔收缩效果良好，肌肤整体均匀度大幅提升。炎症反应明显缓解。
                        </p>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-green-400 text-sm">
                                <i class="fas fa-arrow-down mr-1"></i>
                                <span>问题区域减少35%</span>
                            </div>
                            <button class="text-red-400 text-sm hover:text-red-300 transition-colors">
                                查看详情 <i class="fas fa-chevron-right ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="floating-action">
        <button class="w-14 h-14 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full text-white shadow-lg hover:shadow-xl transition-all" onclick="quickCheckIn()">
            <i class="fas fa-camera text-xl"></i>
        </button>
    </div>

    <!-- Bottom Tab Bar -->


    <script>
        let currentTab = 'overview';
        let trendChart;

        // Tab switching functionality
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            
            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('text-white');
                btn.classList.add('text-white/60');
            });
            document.querySelector(`[data-tab="${tabName}"]`).classList.remove('text-white/60');
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('text-white');
            
            // Update indicator
            const indicator = document.querySelector('.tab-indicator');
            const tabIndex = ['overview', 'calendar', 'analysis'].indexOf(tabName);
            indicator.style.left = `${tabIndex * 33.33}%`;
            
            currentTab = tabName;
            
            // Initialize chart if analysis tab
            if (tabName === 'analysis' && !trendChart) {
                setTimeout(initTrendChart, 100);
            }
        }

        // Initialize trend chart
        function initTrendChart() {
            const ctx = document.getElementById('trendChart');
            if (!ctx) return;
            
            trendChart = new Chart(ctx.getContext('2d'), {
                type: 'line',
                data: {
                    labels: ['第1天', '第2天', '第3天', '第4天', '第5天', '第6天', '第7天'],
                    datasets: [{
                        label: '综合评分',
                        data: [62, 65, 68, 72, 76, 80, 85],
                        borderColor: '#22c55e',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        borderWidth: 4,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#22c55e',
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 3,
                        pointRadius: 8,
                        pointHoverRadius: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: 'white',
                            bodyColor: 'white',
                            borderColor: 'rgba(255, 255, 255, 0.2)',
                            borderWidth: 1
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)',
                                drawBorder: false
                            },
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.8)',
                                font: {
                                    size: 12,
                                    weight: '500'
                                }
                            }
                        },
                        y: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)',
                                drawBorder: false
                            },
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.8)',
                                font: {
                                    size: 12,
                                    weight: '500'
                                }
                            },
                            min: 50,
                            max: 100
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            });
        }

        // Navigation functions
        function openDayDetail(day) {
            window.location.href = `day-detail.html?day=${day}`;
        }
        
        function shareProgress() {
            // Share functionality
            if (navigator.share) {
                navigator.share({
                    title: '我的21天护肤计划',
                    text: '已坚持7天，肌肤状态持续改善中！',
                    url: window.location.href
                });
            }
        }
        
        function openSettings() {
            // Settings functionality
            alert('设置功能开发中...');
        }
        
        function quickCheckIn() {
            openDayDetail(8);
        }
        
        function showMetricDetail(metric) {
            // Show detailed metric analysis
            alert(`${metric} 详细分析功能开发中...`);
        }
        
        function changePeriod(period) {
            // Change chart period
            console.log('Changing period to:', period);
        }

        // Scroll indicator functionality
        function updateScrollIndicator() {
            const scrollTop = window.pageYOffset;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPercent = scrollTop / docHeight;
            
            const dots = document.querySelectorAll('.scroll-dot');
            dots.forEach((dot, index) => {
                dot.classList.remove('active');
                if (scrollPercent >= index / (dots.length - 1) && scrollPercent < (index + 1) / (dots.length - 1)) {
                    dot.classList.add('active');
                }
            });
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Animate elements on load
            setTimeout(() => {
                document.querySelectorAll('.animate-slide-up').forEach((el, index) => {
                    setTimeout(() => {
                        el.style.opacity = '1';
                        el.style.transform = 'translateY(0)';
                    }, index * 100);
                });
            }, 100);
            
            // Add scroll listener
            window.addEventListener('scroll', updateScrollIndicator);
            
            // Initialize progress animations
            setTimeout(() => {
                const progressRings = document.querySelectorAll('.progress-ring');
                progressRings.forEach(ring => {
                    const currentOffset = ring.style.strokeDashoffset || ring.getAttribute('stroke-dashoffset');
                    ring.style.strokeDashoffset = '440';
                    setTimeout(() => {
                        ring.style.strokeDashoffset = currentOffset;
                    }, 500);
                });
            }, 1000);
        });
    </script>
</body>
</html>